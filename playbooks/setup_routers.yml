---
- name: Setup two routers for OSPF
  hosts:
   - cisco-rtr1
   - cisco-rtr2
  gather_facts: false
  vars:
    bastion_ip: "{{ hostvars[groups['bastions'][0]]['ansible_host'] | default('bastion') }}"

  tasks:

  - name: Setup cisco-1
    cisco.ios.config:
     src: ../templates/cisco-1.j2
     save_when: always
    when: inventory_hostname == 'cisco-rtr1'

  - name: Setup cisco-2
    cisco.ios.config:
     src: ../templates/cisco-2.j2
     save_when: always
    when: inventory_hostname == 'cisco-rtr2'
